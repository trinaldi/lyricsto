#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative 'menu'
require_relative './sources/azlyrics'
require_relative './sources/genius'

class LyricsTo
  attr_reader :artist, :song

  def initialize(artist:, song:)
    @artist = artist
    @song = song
  end

  def azlyrics
    Sources::AZLyrics.new(artist: artist, song: song).fetch_lyrics
  end

  def genius
    Sources::Genius.new(artist: artist, song: song).fetch_song_url
  end
end

options = Menu.new(artist: ARGV[0], song: ARGV[1]).create

LyricsTo.new(artist: options['a'], song: options['s']).genius if options.description?
LyricsTo.new(artist: options['a'], song: options['s']).azlyrics
